***********************************
Archivo: DemoContext.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\DemoContext.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAccesoDatos
{
	public class DemoContext : DbContext
	{
		public DbSet<Usuario> Usuarios { get; set; }

		public DbSet<Envio> Envios { get; set; }

		public DbSet<Urgente>Urgente { get; set; }

		public DbSet<Comun> Comun { get; set; }

		public DbSet<Agencia> Agencias { get; set; }

		public DbSet<Seguimiento> Seguimientos { get; set; }



		public DemoContext(DbContextOptions options) : base(options)
		{

		}

		protected override void OnModelCreating(ModelBuilder modelBuilder)
		{
			

			modelBuilder.Entity<Envio>().HasOne(e => e.Funcionario)
				.WithMany()
				.OnDelete(DeleteBehavior.NoAction);

			modelBuilder.Entity<Envio>().HasOne(e => e.Cliente)
				.WithMany()
				.OnDelete(DeleteBehavior.NoAction);

			base.OnModelCreating(modelBuilder);
		}
	}
}

***********************************
Archivo: ImpresionCodigoFuenteSolucion.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImpresionCodigoFuenteSolucion.cs
***********************************
using System.Text;
using System.IO;

namespace ImprimirCodigoFuente
{
    /// <summary>
    /// Para utilizar este código:
    /// 1. Agregar un proyecto aplicación de consola en la solución que tiene el código fuente a imprimir
    /// 2. Sustituir el código de la clase Program por este código 
    /// 3. Configurar el proyecto de consola como proyecto de inicio
    /// 4. Ejecutar la aplicación
    /// 5. En la misma carpeta de la clase Program quedarán los archivos de texto con el código fuente
    /// </summary>
    internal class ImpresionCodigoFuenteSolucion
    {
        /// <summary>
        /// Imprime los archivos de código con extensión .cs y las views .cshtml.
        /// Para agregar otro tipo de archivo simplemente invocar al método Imprimir
        /// indicando *.extensión
        /// </summary>
        /// <param name="args"></param>
        static void Main(string[] args)
        {
            Imprimir("*.cs", "fuentesCs.txt");
            Imprimir("*.cshtml", "views.txt");

        }
        /// <summary>
        /// Imprime los archivos de código fuente de la solución
        /// </summary>
        /// <param name="tipoArchivo">El nombre del archivo a imprimir.Para imprimir todos los de un tipo determinado usar "*.extensión" por ejemplo:  "*.cs"</param>
        /// <param name="nombreArchivoSalida">El nombre del archivo de texto donde quedarà el código fuente</param>
        /// <remarks>
        /// Este código funciona siempre que el archivo de la solución (.sln) esté en la raíz de la solución,
        /// es decir cuando todos los proyectos estàn en subcarpetas de la carpeta de la solución
        /// </remarks>
        private static void Imprimir(string tipoArchivo, string nombreArchivoSalida)
        {
            try
            {
                string raizSolucion = ObtenerRutaSolucion();
                var separador = "***********************************" + Environment.NewLine;

                var archivos = System.IO.Directory.GetFiles(raizSolucion, tipoArchivo, System.IO.SearchOption.AllDirectories);

                //se obtienen los archivos .cs excluyendo los que contienen código generado por el framework
                var resultado = archivos.Where(p => !p.Contains("Temporary")
                && !p.Contains("AssemblyInfo.cs")
                && !p.Contains("Program.cs")
                    && !p.Contains("AssemblyAttributes")
                    && !p.Contains(".g.cs"))
                    .Select(path => new { Carpeta = path, Nombre = System.IO.Path.GetFileName(path), Contenido = System.IO.File.ReadAllText(path) })
                                  .Select(info =>
                                      separador
                                    + "Archivo: " + info.Nombre + Environment.NewLine
                                    + "Carpeta: " + info.Carpeta + Environment.NewLine
                                    + separador
                                    + info.Contenido);


                var concatenado = string.Join(Environment.NewLine, resultado);
                File.WriteAllText(Path.GetDirectoryName(Path.GetDirectoryName(Path.GetDirectoryName(Directory.GetCurrentDirectory())))
                    + @$"\{nombreArchivoSalida}", concatenado, Encoding.UTF8);
            }
            catch (Exception algunError)
            {
                Console.WriteLine(algunError.Message);
            }
        }
        static string ObtenerRutaSolucion()
        {
            string directorioActivo = Directory.GetCurrentDirectory();

            Console.WriteLine("Directorio activo: " + directorioActivo);

            // Navega hacia arriba en la estructura de directorios hasta encontrar la carpeta de la solución
            DirectoryInfo directoryInfo = new DirectoryInfo(directorioActivo);

            while (directoryInfo != null && !DirectorioIncluye(directoryInfo, "*.sln"))
            {
                directoryInfo = directoryInfo.Parent;
            }

            if (directoryInfo != null)
            {
                return directoryInfo.FullName;
            }
            else
            {
                return string.Empty;
            }
        }

        static bool DirectorioIncluye(DirectoryInfo directory, string pattern)
        {
            return directory.GetFiles(pattern).Length > 0;
        }
    }
}


***********************************
Archivo: WeatherForecast.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\WeatherForecast.cs
***********************************
namespace WebAPI
{
	public class WeatherForecast
	{
		public DateOnly Date { get; set; }

		public int TemperatureC { get; set; }

		public int TemperatureF => 32 + (int)(TemperatureC / 0.5556);

		public string? Summary { get; set; }
	}
}

***********************************
Archivo: AgenciaMapper.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\Mappers\AgenciaMapper.cs
***********************************
using Compartido.DTOs.Agencia;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.Mappers
{
	public class AgenciaMapper
	{
		public static IEnumerable<ListadoAgenciasDTO> ListadoAgenciaToListadoAgenciaDTO
			(IEnumerable<Agencia> agencias)
		{

			return agencias.Select(c => new ListadoAgenciasDTO()
			{
				Id = c.Id,
				Nombre = c.Nombre,
				DireccionPostal = c.DireccionPostal,
				Ubicacion = c.Ubicacion
			}).ToList();
		}
	}
}

***********************************
Archivo: EnvioMapper.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\Mappers\EnvioMapper.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.DTOs.Seguimiento;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.Mappers
{
	public class EnvioMapper
	{
		public static Comun ComunFromDTO(AltaEnvioComunDTO comunDTO, Usuario funcionario, Usuario cliente, Agencia agencia)
		{
			
			return new Comun(comunDTO.NumeroTracking,
					funcionario,
					cliente,
					comunDTO.Peso,
					Estado.En_Proceso,
					new List<Seguimiento>(),
					agencia,
					comunDTO.FechaEstimada);



		}
		public static Urgente UrgenteFromDTO(AltaEnvioUrgenteDTO urgenteDTO, Usuario funcionario, Usuario cliente)
		{

			return new Urgente(urgenteDTO.NumeroTracking,
				funcionario,
				cliente,
				urgenteDTO.Peso,
				urgenteDTO.Estado,
				new List<Seguimiento>(),
				urgenteDTO.DireccionPostal,
				urgenteDTO.Entregado,
				urgenteDTO.TiempoEntrega,
				urgenteDTO.FechaEstimada);

		}
		public static ListadoEnviosDTO EnvioToListadoDTO(Envio envio)
		{
			if (envio == null)
				return null;
			return new ListadoEnviosDTO()
			{
				Id = envio.Id,
				NroTracking = envio.NroTracking,
				Peso = envio.Peso,
				FuncionarioNombre = envio.Funcionario?.Nombre ?? "Sin funcionario",
				ClienteNombre = envio.Cliente?.Nombre ?? "Sin cliente",
				Estado = envio.Estado,
				FechaEntrega = envio.FechaEntrega ?? DateTime.MinValue,
				FechaEstimada = envio.FechaEstimada?? DateTime.MinValue,
				Seguimientos = SeguimientosMapper(envio.Seguimientos)
			};
		}

		
		public static IEnumerable<ListadoEnviosDTO> ListadoEnvioToListadoEnvioDTO
			(IEnumerable<Envio> envios)
		{
			IEnumerable<ListadoEnviosDTO> enviosDTOs = new List<ListadoEnviosDTO>();
			enviosDTOs = envios.Select(c => new ListadoEnviosDTO()
			{
				Id = c.Id,
				Peso = c.Peso,
				FuncionarioNombre = c.Funcionario.Nombre,
				ClienteNombre = c.Cliente.Nombre,
				Estado = c.Estado,
				NroTracking = c.NroTracking,
				FechaEntrega = c.FechaEntrega != null ? (DateTime)c.FechaEntrega : DateTime.MinValue,
				FechaEstimada = (DateTime)c.FechaEstimada,


			});
			return enviosDTOs;
		}
		private static List<SeguimientoDTO> SeguimientosMapper(IEnumerable<Seguimiento> seguimientos)
		{
			if (seguimientos == null)
				return new List<SeguimientoDTO>();

			return seguimientos.Select(s => new SeguimientoDTO
			{
				Comentario = s.Comentario,
				FechaHora = s.FechaHora,
				UsuarioId = s.UsuarioId,
			}).ToList();
		}

		public static Seguimiento SeguimientoDTOtoSeguimiento(SeguimientoDTO seguimientoDTO, Usuario usuario)
		{
			if(seguimientoDTO == null)
			{
				throw new ArgumentNullException("Datos Incorrecotos");
			}
			return new Seguimiento(seguimientoDTO.Comentario,
				seguimientoDTO.FechaHora,seguimientoDTO.EnvioId,seguimientoDTO.UsuarioId);
				
		}


	}
}

***********************************
Archivo: SeguimientoMapper.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\Mappers\SeguimientoMapper.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.DTOs.Seguimiento;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.Mappers
{
	public class SeguimientoMapper
	{
		public static IEnumerable<SeguimientoDTO> ListadoSeguimientoToListadoSeguimientoDTO
			(IEnumerable<Seguimiento> seguimientos)
		{
			IEnumerable<SeguimientoDTO> seguimientoDTOs = new List<SeguimientoDTO>();
			seguimientoDTOs = seguimientos.Select(c => new SeguimientoDTO()
			{
				EnvioId = c.EnvioId,
				Comentario = c.Comentario,
				FechaHora = c.FechaHora,
				UsuarioId = c.UsuarioId


			});
			return seguimientoDTOs;
		}
	}
}

***********************************
Archivo: UsuarioMapper.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\Mappers\UsuarioMapper.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Compartido.DTOs.Usuario;
using LogicaNegocio.EntidadesNegocio;
using static System.Runtime.InteropServices.JavaScript.JSType;

namespace Compartido.Mappers
{
	public class UsuarioMapper
	{
		//public static Usuario UsuarioFromUsuarioDTO(UsuarioDTO usuarioDTO)
		//{
		//	if(usuarioDTO == null)
		//	{
		//		throw new ArgumentNullException("Datos Incorrectos");
		//	}
		
		//	return new Usuario(usuarioDTO.Ci,
		//			  usuarioDTO.Nombre,
		//			  usuarioDTO.Apellido,
		//			  usuarioDTO.Email,
		//			  usuarioDTO.Contraseña,
		//			  usuarioDTO.Rol)
		//		;
		//}

		public static IEnumerable<ListadoUsuariosDTO> ListadoUsuarioToListadoUsuarioDTO
			(IEnumerable<Usuario> usuarios)
		{
			
			return usuarios.Select(c => new ListadoUsuariosDTO()
			{
				Id = c.Id,
				Ci = c.Ci.Valor,
				Nombre = c.Nombre,
				Apellido = c.Apellido,
				Email = c.Email,
				Contraseña = c.Contraseña,
				rol = c.Rol
            }).ToList();
		}
		public static ListadoUsuariosDTO UsuarioToListadoUsuarioDTO
			(Usuario usuario)
		{
			return new ListadoUsuariosDTO()
			{
				Id = usuario.Id,
				Ci = usuario.Ci.Valor,
				Nombre = usuario.Nombre,
				Apellido = usuario.Apellido,
				Email = usuario.Email,
				Contraseña = usuario.Contraseña,
				rol = usuario.Rol
            };
		}

		public static Usuario UsuarioFromListadoUsuarioDTO(ListadoUsuariosDTO usuarioDTO)
		{
			if(usuarioDTO == null)
			{
				throw new ArgumentException("Datos Incorrectos");
			}
			return new Usuario(
				usuarioDTO.Ci,
				usuarioDTO.Nombre,
				usuarioDTO.Apellido,
				usuarioDTO.Email,
				usuarioDTO.Contraseña,
				usuarioDTO.rol);


        }

		//public static UsuarioDTO UsuarioToUsuarioDTO(Usuario usuario)
		//{
		//	if (usuario == null)
		//	{
		//		throw new ArgumentNullException("El usuario no puede ser nulo");
		//	}

		//	return new UsuarioDTO
		//	{
		//		Id = usuario.Id, 
		//		Ci = usuario.Ci.Valor, 
		//		Nombre = usuario.Nombre, 
		//		Apellido = usuario.Apellido, 
		//		Email = usuario.Email, 
		//		Contraseña = usuario.Contraseña, 
		//		Rol = usuario.Rol  
		//	};
		//}

		public static UsuarioLogueadoDTO UsuarioToUsuarioLogueadoDTO(Usuario usuario)
		{
			if (usuario == null)
			{
				throw new ArgumentNullException("El usuario no puede ser nulo");
			}
			return new UsuarioLogueadoDTO
			{
				Rol = usuario.Rol.ToString(),
				Email = usuario.Email,
				Id = usuario.Id
			};
		}

		public static CambioPasswordDTO UsuarioToCambioPasswordDTO(Usuario usuario)
		{
			if(usuario == null)
			{
				throw new ArgumentNullException("El usuario no puede ser nulo");
			}
			return new CambioPasswordDTO
			{
				Email = usuario.Email,
				PasswordActual = usuario.Contraseña
			};
		}
	}
}

***********************************
Archivo: 20250626124235_Initial.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Migrations\20250626124235_Initial.cs
***********************************
using System;
using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace LogicaAccesoDatos.Migrations
{
    /// <inheritdoc />
    public partial class Initial : Migration
    {
        /// <inheritdoc />
        protected override void Up(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.CreateTable(
                name: "Ubicacion",
                columns: table => new
                {
                    Id = table.Column<int>(type: "int", nullable: false)
                        .Annotation("SqlServer:Identity", "1, 1"),
                    Latitud = table.Column<double>(type: "float", nullable: false),
                    Longitud = table.Column<double>(type: "float", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Ubicacion", x => x.Id);
                });

            migrationBuilder.CreateTable(
                name: "Usuarios",
                columns: table => new
                {
                    Id = table.Column<int>(type: "int", nullable: false)
                        .Annotation("SqlServer:Identity", "1, 1"),
                    Nombre = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    Apellido = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    Email = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    Contraseña = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    Rol = table.Column<int>(type: "int", nullable: false),
                    Ci_Valor = table.Column<string>(type: "nvarchar(max)", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Usuarios", x => x.Id);
                });

            migrationBuilder.CreateTable(
                name: "Agencias",
                columns: table => new
                {
                    Id = table.Column<int>(type: "int", nullable: false)
                        .Annotation("SqlServer:Identity", "1, 1"),
                    Nombre = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    DireccionPostal = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    UbicacionId = table.Column<int>(type: "int", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Agencias", x => x.Id);
                    table.ForeignKey(
                        name: "FK_Agencias_Ubicacion_UbicacionId",
                        column: x => x.UbicacionId,
                        principalTable: "Ubicacion",
                        principalColumn: "Id",
                        onDelete: ReferentialAction.Cascade);
                });

            migrationBuilder.CreateTable(
                name: "Envios",
                columns: table => new
                {
                    Id = table.Column<int>(type: "int", nullable: false)
                        .Annotation("SqlServer:Identity", "1, 1"),
                    NroTracking = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    FuncionarioId = table.Column<int>(type: "int", nullable: false),
                    ClienteId = table.Column<int>(type: "int", nullable: false),
                    Peso = table.Column<int>(type: "int", nullable: false),
                    Estado = table.Column<int>(type: "int", nullable: false),
                    FechaEstimada = table.Column<DateTime>(type: "datetime2", nullable: true),
                    FechaEntrega = table.Column<DateTime>(type: "datetime2", nullable: true),
                    Discriminator = table.Column<string>(type: "nvarchar(8)", maxLength: 8, nullable: false),
                    AgenciaId = table.Column<int>(type: "int", nullable: true),
                    DireccionPostal = table.Column<string>(type: "nvarchar(max)", nullable: true),
                    Entregado = table.Column<bool>(type: "bit", nullable: true),
                    TiempoEntrega = table.Column<int>(type: "int", nullable: true)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Envios", x => x.Id);
                    table.ForeignKey(
                        name: "FK_Envios_Agencias_AgenciaId",
                        column: x => x.AgenciaId,
                        principalTable: "Agencias",
                        principalColumn: "Id",
                        onDelete: ReferentialAction.Cascade);
                    table.ForeignKey(
                        name: "FK_Envios_Usuarios_ClienteId",
                        column: x => x.ClienteId,
                        principalTable: "Usuarios",
                        principalColumn: "Id");
                    table.ForeignKey(
                        name: "FK_Envios_Usuarios_FuncionarioId",
                        column: x => x.FuncionarioId,
                        principalTable: "Usuarios",
                        principalColumn: "Id");
                });

            migrationBuilder.CreateTable(
                name: "Seguimientos",
                columns: table => new
                {
                    Id = table.Column<int>(type: "int", nullable: false)
                        .Annotation("SqlServer:Identity", "1, 1"),
                    Comentario = table.Column<string>(type: "nvarchar(max)", nullable: false),
                    FechaHora = table.Column<DateTime>(type: "datetime2", nullable: false),
                    UsuarioId = table.Column<int>(type: "int", nullable: false),
                    EnvioId = table.Column<int>(type: "int", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Seguimientos", x => x.Id);
                    table.ForeignKey(
                        name: "FK_Seguimientos_Envios_EnvioId",
                        column: x => x.EnvioId,
                        principalTable: "Envios",
                        principalColumn: "Id",
                        onDelete: ReferentialAction.Cascade);
                    table.ForeignKey(
                        name: "FK_Seguimientos_Usuarios_UsuarioId",
                        column: x => x.UsuarioId,
                        principalTable: "Usuarios",
                        principalColumn: "Id",
                        onDelete: ReferentialAction.Cascade);
                });

            migrationBuilder.CreateIndex(
                name: "IX_Agencias_UbicacionId",
                table: "Agencias",
                column: "UbicacionId");

            migrationBuilder.CreateIndex(
                name: "IX_Envios_AgenciaId",
                table: "Envios",
                column: "AgenciaId");

            migrationBuilder.CreateIndex(
                name: "IX_Envios_ClienteId",
                table: "Envios",
                column: "ClienteId");

            migrationBuilder.CreateIndex(
                name: "IX_Envios_FuncionarioId",
                table: "Envios",
                column: "FuncionarioId");

            migrationBuilder.CreateIndex(
                name: "IX_Seguimientos_EnvioId",
                table: "Seguimientos",
                column: "EnvioId");

            migrationBuilder.CreateIndex(
                name: "IX_Seguimientos_UsuarioId",
                table: "Seguimientos",
                column: "UsuarioId");
        }

        /// <inheritdoc />
        protected override void Down(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.DropTable(
                name: "Seguimientos");

            migrationBuilder.DropTable(
                name: "Envios");

            migrationBuilder.DropTable(
                name: "Agencias");

            migrationBuilder.DropTable(
                name: "Usuarios");

            migrationBuilder.DropTable(
                name: "Ubicacion");
        }
    }
}

***********************************
Archivo: 20250626124235_Initial.Designer.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Migrations\20250626124235_Initial.Designer.cs
***********************************
// <auto-generated />
using System;
using System.Collections.Generic;
using LogicaAccesoDatos;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace LogicaAccesoDatos.Migrations
{
    [DbContext(typeof(DemoContext))]
    [Migration("20250626124235_Initial")]
    partial class Initial
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.10")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Agencia", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("DireccionPostal")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("UbicacionId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UbicacionId");

                    b.ToTable("Agencias");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("ClienteId")
                        .HasColumnType("int");

                    b.Property<string>("Discriminator")
                        .IsRequired()
                        .HasMaxLength(8)
                        .HasColumnType("nvarchar(8)");

                    b.Property<int>("Estado")
                        .HasColumnType("int");

                    b.Property<DateTime?>("FechaEntrega")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("FechaEstimada")
                        .HasColumnType("datetime2");

                    b.Property<int>("FuncionarioId")
                        .HasColumnType("int");

                    b.Property<string>("NroTracking")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Peso")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ClienteId");

                    b.HasIndex("FuncionarioId");

                    b.ToTable("Envios");

                    b.HasDiscriminator().HasValue("Envio");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Seguimiento", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Comentario")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("EnvioId")
                        .HasColumnType("int");

                    b.Property<DateTime>("FechaHora")
                        .HasColumnType("datetime2");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("EnvioId");

                    b.HasIndex("UsuarioId");

                    b.ToTable("Seguimientos");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Ubicacion", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<double>("Latitud")
                        .HasColumnType("float");

                    b.Property<double>("Longitud")
                        .HasColumnType("float");

                    b.HasKey("Id");

                    b.ToTable("Ubicacion");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Usuario", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Apellido")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Contraseña")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Rol")
                        .HasColumnType("int");

                    b.ComplexProperty<Dictionary<string, object>>("Ci", "LogicaNegocio.EntidadesNegocio.Usuario.Ci#CedulaUsuario", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("Valor")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");
                        });

                    b.HasKey("Id");

                    b.ToTable("Usuarios");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Comun", b =>
                {
                    b.HasBaseType("LogicaNegocio.EntidadesNegocio.Envio");

                    b.Property<int>("AgenciaId")
                        .HasColumnType("int");

                    b.HasIndex("AgenciaId");

                    b.HasDiscriminator().HasValue("Comun");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Urgente", b =>
                {
                    b.HasBaseType("LogicaNegocio.EntidadesNegocio.Envio");

                    b.Property<string>("DireccionPostal")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("Entregado")
                        .HasColumnType("bit");

                    b.Property<int>("TiempoEntrega")
                        .HasColumnType("int");

                    b.HasDiscriminator().HasValue("Urgente");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Agencia", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Ubicacion", "Ubicacion")
                        .WithMany()
                        .HasForeignKey("UbicacionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Ubicacion");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Cliente")
                        .WithMany()
                        .HasForeignKey("ClienteId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Funcionario")
                        .WithMany()
                        .HasForeignKey("FuncionarioId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("Cliente");

                    b.Navigation("Funcionario");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Seguimiento", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Envio", "Envio")
                        .WithMany("Seguimientos")
                        .HasForeignKey("EnvioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Usuario")
                        .WithMany()
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Envio");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Comun", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Agencia", "Agencia")
                        .WithMany()
                        .HasForeignKey("AgenciaId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Agencia");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.Navigation("Seguimientos");
                });
#pragma warning restore 612, 618
        }
    }
}

***********************************
Archivo: DemoContextModelSnapshot.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Migrations\DemoContextModelSnapshot.cs
***********************************
// <auto-generated />
using System;
using System.Collections.Generic;
using LogicaAccesoDatos;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace LogicaAccesoDatos.Migrations
{
    [DbContext(typeof(DemoContext))]
    partial class DemoContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.10")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Agencia", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("DireccionPostal")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("UbicacionId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UbicacionId");

                    b.ToTable("Agencias");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("ClienteId")
                        .HasColumnType("int");

                    b.Property<string>("Discriminator")
                        .IsRequired()
                        .HasMaxLength(8)
                        .HasColumnType("nvarchar(8)");

                    b.Property<int>("Estado")
                        .HasColumnType("int");

                    b.Property<DateTime?>("FechaEntrega")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("FechaEstimada")
                        .HasColumnType("datetime2");

                    b.Property<int>("FuncionarioId")
                        .HasColumnType("int");

                    b.Property<string>("NroTracking")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Peso")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ClienteId");

                    b.HasIndex("FuncionarioId");

                    b.ToTable("Envios");

                    b.HasDiscriminator().HasValue("Envio");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Seguimiento", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Comentario")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("EnvioId")
                        .HasColumnType("int");

                    b.Property<DateTime>("FechaHora")
                        .HasColumnType("datetime2");

                    b.Property<int>("UsuarioId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("EnvioId");

                    b.HasIndex("UsuarioId");

                    b.ToTable("Seguimientos");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Ubicacion", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<double>("Latitud")
                        .HasColumnType("float");

                    b.Property<double>("Longitud")
                        .HasColumnType("float");

                    b.HasKey("Id");

                    b.ToTable("Ubicacion");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Usuario", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Apellido")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Contraseña")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Nombre")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Rol")
                        .HasColumnType("int");

                    b.ComplexProperty<Dictionary<string, object>>("Ci", "LogicaNegocio.EntidadesNegocio.Usuario.Ci#CedulaUsuario", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("Valor")
                                .IsRequired()
                                .HasColumnType("nvarchar(max)");
                        });

                    b.HasKey("Id");

                    b.ToTable("Usuarios");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Comun", b =>
                {
                    b.HasBaseType("LogicaNegocio.EntidadesNegocio.Envio");

                    b.Property<int>("AgenciaId")
                        .HasColumnType("int");

                    b.HasIndex("AgenciaId");

                    b.HasDiscriminator().HasValue("Comun");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Urgente", b =>
                {
                    b.HasBaseType("LogicaNegocio.EntidadesNegocio.Envio");

                    b.Property<string>("DireccionPostal")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("Entregado")
                        .HasColumnType("bit");

                    b.Property<int>("TiempoEntrega")
                        .HasColumnType("int");

                    b.HasDiscriminator().HasValue("Urgente");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Agencia", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Ubicacion", "Ubicacion")
                        .WithMany()
                        .HasForeignKey("UbicacionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Ubicacion");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Cliente")
                        .WithMany()
                        .HasForeignKey("ClienteId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Funcionario")
                        .WithMany()
                        .HasForeignKey("FuncionarioId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("Cliente");

                    b.Navigation("Funcionario");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Seguimiento", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Envio", "Envio")
                        .WithMany("Seguimientos")
                        .HasForeignKey("EnvioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("LogicaNegocio.EntidadesNegocio.Usuario", "Usuario")
                        .WithMany()
                        .HasForeignKey("UsuarioId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Envio");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Comun", b =>
                {
                    b.HasOne("LogicaNegocio.EntidadesNegocio.Agencia", "Agencia")
                        .WithMany()
                        .HasForeignKey("AgenciaId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Agencia");
                });

            modelBuilder.Entity("LogicaNegocio.EntidadesNegocio.Envio", b =>
                {
                    b.Navigation("Seguimientos");
                });
#pragma warning restore 612, 618
        }
    }
}

***********************************
Archivo: RepositorioAgenciaEF.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Repositorios\RepositorioAgenciaEF.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAccesoDatos.Repositorios
{
	public class RepositorioAgenciaEF : IRepositorioAgencia
	{
		private DemoContext Contexto { get; set; }

		public RepositorioAgenciaEF(DemoContext contexto)
		{
			Contexto = contexto;
		}
		public void Add(Agencia item)
		{
			throw new NotImplementedException();
		}

		public void Delete(int id)
		{
			throw new NotImplementedException();
		}

		public IEnumerable<Agencia> FindAll()
		{
			return Contexto.Agencias;
		}

		public Agencia FindById(int id)
		{
			return Contexto.Agencias.Find(id);
		}

		public void Update(Agencia item)
		{
			throw new NotImplementedException();
		}
	}
}

***********************************
Archivo: RepositorioEnvioEF.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Repositorios\RepositorioEnvioEF.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAccesoDatos.Repositorios
{
	public class RepositorioEnvioEF : IRepositorioEnvio
	{

		private DemoContext Contexto { get; set; }

		public RepositorioEnvioEF(DemoContext contexto)
		{
			Contexto = contexto;
		}
		public void Add(Envio item)
		{
			Envio envioEncontrado = FindById(item.Id);
			if (envioEncontrado == null)
			{
				Contexto.Envios.Add(item);
				Contexto.SaveChanges();
			}
			else
			{
				throw new Exception("Ya existe un envio con ese numero de tracking");
			}

		}

		public void Delete(int id)
		{
			throw new NotImplementedException();
		}

		public IEnumerable<Envio> FindAll()
		{
			return Contexto.Envios.Include(e => e.Funcionario).Include(e => e.Cliente);
		}

		public Envio FindById(int id)
		{
			return Contexto.Envios.Where(c => c.Id == id).Include(c => c.Seguimientos).SingleOrDefault();
		}

		public void Update(Envio item)
		{
			Envio envioEncontrado = FindByNroTracking(item.NroTracking);

			if (envioEncontrado != null)
			{
				envioEncontrado.FuncionarioId = item.FuncionarioId;
				envioEncontrado.ClienteId = item.ClienteId;
				envioEncontrado.Estado = item.Estado;
				envioEncontrado.Peso = item.Peso;
				envioEncontrado.FechaEntrega = item.FechaEntrega;
				envioEncontrado.FechaEstimada = item.FechaEstimada;

				
				Contexto.SaveChanges();
			}
			else
			{
				throw new Exception("No se encontró el envío a actualizar.");
			}
		}

		public Envio FindByNroTracking(string NroTracking)
		{
			return Contexto.Envios.Where(e => e.NroTracking == NroTracking).Include(e => e.Cliente).Include(e => e.Funcionario).Include(e=> e.Seguimientos).SingleOrDefault();
		}

		public void FinalizarEnvio(string NroTracking)
		{
			Envio envio = FindByNroTracking(NroTracking);
			if (envio != null)
			{
				envio.Estado = Estado.Finalizado;
				envio.FechaEntrega = DateTime.Now;
				Contexto.SaveChanges();
			}
			else
			{
				throw new Exception("No se encontró el envío con el Numero de Tracking proporcionado.");
			}
		}

		public IEnumerable<Envio> FindByCliente(int clienteId)
		{
			return Contexto.Envios.Where(e => e.ClienteId == clienteId).OrderByDescending(e => e.FechaEntrega).Include(e => e.Funcionario).Include(e => e.Cliente).ToList();
		}

        public IEnumerable<Envio> FindByFechas(DateTime fechaInicio, DateTime fechaFin, int clienteId, Estado? estado)
        {
            return Contexto.Envios
                .Where(e =>
                    (e.FechaEstimada ?? DateTime.MaxValue) >= fechaInicio &&
                    (e.FechaEstimada ?? DateTime.MinValue) <= fechaFin &&
                    e.ClienteId == clienteId &&
                    (estado == null || e.Estado == estado)
                )
                .OrderByDescending(e => e.NroTracking)
                .Include(e => e.Funcionario)
                .Include(e => e.Cliente)
                .ToList();
        }

        public IEnumerable<Envio> FindByComentario(string comentario, int clienteId)
		{
			return Contexto.Envios
				.Include(e => e.Seguimientos) 
				.Include(e => e.Funcionario)
				.Include(e => e.Cliente)
				.Where(e => e.ClienteId == clienteId &&
							e.Seguimientos.Any(s => s.Comentario.Contains(comentario)))
				.OrderByDescending(e => e.FechaEntrega)
				.ToList();
		}


	}
}

***********************************
Archivo: RepositorioSeguimientoEF.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Repositorios\RepositorioSeguimientoEF.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAccesoDatos.Repositorios
{
	public class RepositorioSeguimientoEF : IRepositorioSeguimiento
	{
		private DemoContext Contexto { get; set; }

		public RepositorioSeguimientoEF(DemoContext contexto)
		{
			Contexto = contexto;
		}
		public void Add(Seguimiento item)
		{
			throw new NotImplementedException();
		}

		public void Delete(int id)
		{
			throw new NotImplementedException();
		}

		public IEnumerable<Seguimiento> FindAll()
		{
			throw new NotImplementedException();
		}

		public Seguimiento FindById(int id)
		{
			throw new NotImplementedException();
		}

		public void Update(Seguimiento item)
		{
			throw new NotImplementedException();
		}

		public IEnumerable<Seguimiento> FindByEnvioId(int envioId)
		{
			return Contexto.Seguimientos
				.Where(s => s.EnvioId == envioId)
				.OrderByDescending(s => s.FechaHora)
				.ToList();

		}
	}
}

***********************************
Archivo: RepositorioUsuarioEF.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAccesoDatos\Repositorios\RepositorioUsuarioEF.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.InterfacesRepositorios;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.ExcepcionesEntidades;


namespace LogicaAccesoDatos.Repositorios
{
	public class RepositorioUsuarioEF : IRepositorioUsuario
	{
		private DemoContext Contexto { get; set; }

		public RepositorioUsuarioEF(DemoContext contexto)
		{
			Contexto = contexto;
		}
		public void Add(Usuario item)
		{
			Usuario usuarioEncontrado = FindByCi(item.Ci.Valor);
			if (usuarioEncontrado == null)
			{
				Contexto.Usuarios.Add(item);
				Contexto.SaveChanges();
			}
			else
			{
				throw new UsuarioException("Ya existe un usuario con esa Cedula");
			}
		}
	

		public void Delete(int id)
		{
			Usuario usuarioBuscado = FindById(id);
			if (usuarioBuscado != null)
			{
				Contexto.Usuarios.Remove(usuarioBuscado);
				Contexto.SaveChanges();
			}
			else
			{
				throw new UsuarioException("No existe un Usuario con esa Cedula");
			}
		}
        public IEnumerable<Usuario> FindAll()
        {
			return Contexto.Usuarios;
                
            
            
        }
		public void Update(Usuario item)
		{
			
			Usuario usuarioBuscado = FindByCi(item.Ci.Valor);

			
			if (usuarioBuscado != null || usuarioBuscado == null && usuarioBuscado.Ci == item.Ci )
			{
				usuarioBuscado.Nombre = item.Nombre;
				usuarioBuscado.Apellido = item.Apellido;
				usuarioBuscado.Email = item.Email;
				usuarioBuscado.Contraseña = item.Contraseña;
				usuarioBuscado.Rol = item.Rol;
                Contexto.SaveChanges();
            }

			
			
		}
		public Usuario FindById(int id)
		{
			return Contexto.Usuarios.Find(id);
		}

		private Usuario FindByCi(string cedulaUsuario)
		{
			return Contexto.Usuarios.Where(c => c.Ci.Valor == cedulaUsuario).SingleOrDefault();
		}

		private Usuario FindByEmail(string email)
		{
			return Contexto.Usuarios.Where(c => c.Email == email).SingleOrDefault();
		}

		Usuario IRepositorioUsuario.FindByEmail(string email)
		{
			return FindByEmail(email);
		}
		public IEnumerable<Usuario> FindByRolFuncionario()
		{
			return Contexto.Usuarios.Where(c =>c.Rol == Rol.Funcionario|| c.Rol == Rol.Administrador).ToList();
		}
		public IEnumerable<Usuario> FindByRolCliente()
		{
			return Contexto.Usuarios.Where(c => c.Rol == Rol.Cliente).ToList();

		}

		public Usuario FindByEmailAndPassword(string email, string password)
		{
			return Contexto.Usuarios.Where(u => u.Email == email && u.Contraseña == password).SingleOrDefault();
		}
	}
}

***********************************
Archivo: Agencia.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Agencia.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.ExcepcionesEntidades;

namespace LogicaNegocio.EntidadesNegocio
{
	public class Agencia
	{
		public int Id { get; set; }
		public string Nombre { get; set; }
		public string DireccionPostal { get; set; }
		public Ubicacion Ubicacion { get; set; }

        public Agencia(string nombre, string direccionPostal, Ubicacion ubicacion)
        {
            Nombre = nombre;
            DireccionPostal = direccionPostal;
            Ubicacion = ubicacion;
        }

		protected Agencia() { }
	}
}

***********************************
Archivo: Comun.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Comun.cs
***********************************
using LogicaNegocio.ExcepcionesEntidades;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.EntidadesNegocio
{
	public class Comun : Envio
	{
		public Agencia Agencia { get; set; }

		public Comun(string numeroTracking, Usuario funcionario, Usuario cliente, int peso, Estado estado, List<Seguimiento> seguimientos, Agencia agencia, DateTime fechaEstimada)
		: base( numeroTracking, funcionario, cliente, peso, estado, fechaEstimada)
		{
			Agencia = agencia;
		}

		protected Comun() { }

		
	}
}

***********************************
Archivo: Envio.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Envio.cs
***********************************
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations.Schema;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.ExcepcionesEntidades;

namespace LogicaNegocio.EntidadesNegocio
{
    public abstract class Envio
    {

        public int Id { get; set; }

        public string NroTracking { get; set; }

        public Usuario Funcionario { get; set; }
        public int FuncionarioId { get; set; }
        public Usuario Cliente { get; set; }
        public int ClienteId { get; set; }

        public int Peso { get; set; }

        public Estado Estado { get; set; }

        public IEnumerable<Seguimiento> Seguimientos { get; set; }
        public DateTime? FechaEstimada { get; set; }

        public DateTime? FechaEntrega { get; set; }
        protected Envio() { }

        public Envio(string nroTracking, Usuario funcionario, Usuario cliente, int peso, Estado estado,DateTime fechaEstimada)
        {
            NroTracking = nroTracking;
            Funcionario = funcionario;
            Cliente = cliente;
            Peso = peso;
            Estado = estado;
            FechaEstimada = fechaEstimada;

        }
    }
		public enum Estado
		{
			En_Proceso,
			Finalizado
		}
	}
 

***********************************
Archivo: Seguimiento.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Seguimiento.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.EntidadesNegocio
{
    public class Seguimiento
    {
        public int Id { get; set; }
        public string Comentario { get; set; }

        public DateTime FechaHora { get; set; }

		public Usuario Usuario { get; set; }
		public int UsuarioId { get; set; }
		public Envio Envio { get; set; }
		public int EnvioId { get; set; }


		public Seguimiento(string comentario, DateTime fechaHora, int envioId, int usuarioId)
		{
			Comentario = comentario;
			FechaHora = fechaHora;
			EnvioId = envioId;
			UsuarioId = usuarioId;
		}
		

		private Seguimiento() { }
	}
}

***********************************
Archivo: Ubicacion.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Ubicacion.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.EntidadesNegocio
{
    public class Ubicacion
    {
		public int Id { get; set; }
        public double Latitud { get; set; }
        public double Longitud { get; set; }

		public Ubicacion(double latitud, double longitud)
		{
			Latitud = latitud;
			Longitud = longitud;
		}

		protected Ubicacion() { }
	}
}

***********************************
Archivo: Urgente.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Urgente.cs
***********************************
using LogicaNegocio.ExcepcionesEntidades;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.EntidadesNegocio
{
   public class Urgente : Envio
    {
        public string DireccionPostal { get; set; }
        public Boolean Entregado { get; set; }
        public int TiempoEntrega { get; set; }

		public Urgente(string numeroTracking,Usuario funcionario,Usuario cliente,int peso,Estado estado,List<Seguimiento> seguimientos,string direccionPostal,bool entregado,int tiempoEntrega, DateTime fechaEstimada): 
			base(numeroTracking, funcionario, cliente, peso, estado, fechaEstimada)
		{
			DireccionPostal = direccionPostal;
			Entregado = entregado;
			TiempoEntrega = tiempoEntrega;
		}
		protected Urgente() { }
		

	}
}

***********************************
Archivo: Usuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\EntidadesNegocio\Usuario.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.ExcepcionesEntidades;
using LogicaNegocio.ValueObject;

namespace LogicaNegocio.EntidadesNegocio
{
	public class Usuario : IEquatable<Usuario>
	{

		public int Id { get; set; }
		public CedulaUsuario Ci { get; set; }
		public string Nombre { get; set; }
		public string Apellido { get; set; }
		public string Email { get; set; }
		public string Contraseña { get; set; }
		public Rol Rol { get; set; }

		private Usuario() { }

		public Usuario(string ci, string nombre, string apellido, string email, string contraseña, Rol rol)
		{
			Ci = new CedulaUsuario(ci);
			Nombre = nombre;
			Apellido = apellido;
			Email = email;
			Contraseña = contraseña;
			Rol = rol;
		}

		public bool Equals(Usuario? other)
		{
			return Ci == other.Ci;
		}
	}
	public enum Rol
	{
		Administrador,
		Funcionario,
		Cliente ,
	}
}

***********************************
Archivo: AgenciaException.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\ExcepcionesEntidades\AgenciaException.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.ExcepcionesEntidades
{
	public class AgenciaException : Exception
	{
		public AgenciaException() { }

		public AgenciaException(string message) : base(message) { }

		public AgenciaException(string message, Exception innerException) : base(message, innerException) { }
	}
}

***********************************
Archivo: EnvioException.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\ExcepcionesEntidades\EnvioException.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.ExcepcionesEntidades
{
	public class EnvioException : Exception
	{
        public EnvioException() { }

        public EnvioException(string message) : base(message) { }

        public EnvioException(string message, Exception innerException) : base(message, innerException) { }
    }
}

***********************************
Archivo: UsuarioException.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\ExcepcionesEntidades\UsuarioException.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.ExcepcionesEntidades
{
	public class UsuarioException : Exception
	{
		public UsuarioException() { }

		public UsuarioException(string message) : base(message) { }

		public UsuarioException(string message, Exception innerException) : base(message, innerException) { }
	}
}


***********************************
Archivo: IRepositorio.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\InterfacesRepositorios\IRepositorio.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.InterfacesRepositorios
{
	public interface IRepositorio <T>
	{
		void Add(T item);
		IEnumerable<T> FindAll();
		T FindById(int id);
		void Delete(int id);
		void Update (T item);

		
	}
}

***********************************
Archivo: IRepositorioAgencia.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\InterfacesRepositorios\IRepositorioAgencia.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.InterfacesRepositorios
{
	public interface IRepositorioAgencia : IRepositorio<Agencia>
	{
	}
}

***********************************
Archivo: IRepositorioEnvio.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\InterfacesRepositorios\IRepositorioEnvio.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.InterfacesRepositorios
{
   public interface IRepositorioEnvio : IRepositorio<Envio>
    {
        Envio FindByNroTracking(string NroTracking);

		void FinalizarEnvio(string NroTracking);

		IEnumerable<Envio>FindByCliente(int clienteId);

		IEnumerable<Envio>FindByFechas(DateTime fechaInicio, DateTime fechaFin, int clienteId, Estado? estado);

		IEnumerable<Envio>FindByComentario(string comentario, int clienteId);

	}
}

***********************************
Archivo: IRepositorioSeguimiento.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\InterfacesRepositorios\IRepositorioSeguimiento.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaNegocio.InterfacesRepositorios
{
	public interface IRepositorioSeguimiento : IRepositorio<Seguimiento>
	{
		IEnumerable<Seguimiento> FindByEnvioId(int envioId);
		
	}
}

***********************************
Archivo: IRepositorioUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\InterfacesRepositorios\IRepositorioUsuario.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.EntidadesNegocio;

namespace LogicaNegocio.InterfacesRepositorios
{
	public interface IRepositorioUsuario : IRepositorio<Usuario>
	{
		Usuario FindByEmail(string email);
		IEnumerable<Usuario> FindByRolFuncionario();
		IEnumerable<Usuario> FindByRolCliente();
		Usuario FindByEmailAndPassword(string email, string password);

	}
}

***********************************
Archivo: CedulaUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaNegocio\ValueObject\CedulaUsuario.cs
***********************************
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations.Schema;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.ExcepcionesEntidades;


namespace LogicaNegocio.ValueObject
{
	[ComplexType]
	public class CedulaUsuario
	{
		public string Valor { get; init; }

		public CedulaUsuario(string valor)
		{
			Valor = valor;
			Validar();
		}

		private void Validar()
		{
			if (string.IsNullOrEmpty(Valor))
			{
				throw new UsuarioException("La Cedula es obligatoria");
			}
			if (Valor.Length < 8)
			{
				throw new UsuarioException("La cedula debe ser de 8 digitos");
			}
			if (Valor.Length > 8)
			{
				throw new UsuarioException("La cedula debe ser de 8 digitos");
			}
		}
	}
}

***********************************
Archivo: EnvioController.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\Controllers\EnvioController.cs
***********************************
using System.Diagnostics;
using Compartido.DTOs.Envios;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;

// For more information on enabling Web API for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

namespace WebAPI.Controllers
{
	[Route("api/[controller]")]
	[ApiController]
	public class EnvioController : ControllerBase
	{
		public IListadoEnvios CUlistadoEnvios { get; set; }

		public IBuscarEnvios CUbuscarEnvios { get; set; }

		public IAltaEnvioComun CUaltaEnvioComun { get; set; }
		public IAltaEnvioUrgente CUaltaEnvioUrgente { get; set; }
		public IListadoEnviosxFecha CUlistadoxFechas { get; set; }

		public IListadoEnviosxComentario CUlistadoEnviosxComentarios { get; set; }

		public IListadoEnviosClienteLogueado CUlistadoEnviosClienteLogueado { get; set; }
		public EnvioController(
		IListadoEnvios cUlistadoEnvios,
		IBuscarEnvios cUbuscarEnvios,
		IAltaEnvioUrgente cUaltaEnvioUrgente,
		IAltaEnvioComun cUaltaEnvioComun,
		IListadoEnviosClienteLogueado cUlistadoEnviosClienteLogueado,
		IListadoEnviosxFecha cUlistadoxFechas,
		IListadoEnviosxComentario cUlistadoxComentarios)
		{
			CUlistadoEnvios = cUlistadoEnvios;
			CUbuscarEnvios = cUbuscarEnvios;
			CUaltaEnvioUrgente = cUaltaEnvioUrgente;
			CUaltaEnvioComun = cUaltaEnvioComun;
			CUlistadoEnviosClienteLogueado = cUlistadoEnviosClienteLogueado;
			CUlistadoxFechas = cUlistadoxFechas;
			CUlistadoEnviosxComentarios = cUlistadoxComentarios;
		}


		// GET: api/<EnvioController>
		[HttpGet]
		public IActionResult Get()
		{
			//FindAll
			try
			{
				List<ListadoEnviosDTO> envios = CUlistadoEnvios.Ejecutar().ToList();
				if(envios == null || envios.Count == 0)
				{
					return NotFound("No se encontraron envíos.");
				}
				else
				{
					return Ok(envios);
				}
			}
			catch (Exception ex)
			{
				return StatusCode(500, "Error interno");
			}

		}
		[Authorize(Roles = "Cliente")]
		[HttpGet("cliente/{clienteId}")]
		public IActionResult GetPorCliente(int clienteId)
		{
			//FindAll por Cliente Logueado
			try
			{
				List<ListadoEnviosDTO> envios = CUlistadoEnviosClienteLogueado.Ejecutar(clienteId).ToList();
				if (envios == null || envios.Count == 0)
				{
					return NotFound("No se encontraron envíos para el cliente logueado.");
				}
				else
				{
					return Ok(envios);
				}
			}
			catch (Exception ex)
			{
				return StatusCode(500, "Error interno");
			}
		}
		[Authorize(Roles = "Cliente")]
		[HttpGet("porFechas")]
		public IActionResult GetEnviosPorFechas(DateTime fechaInicio, DateTime fechaFin, int clienteId, Estado? estado)
		{
            Debug.WriteLine($"Estado recibido: {estado}");
            try
			{
				if (fechaInicio == DateTime.MinValue || fechaFin == DateTime.MinValue)
					return BadRequest("Las fechas no pueden estar vacías.");

				if (fechaInicio > fechaFin)
					return BadRequest("La fecha de inicio no puede ser mayor que la fecha de fin.");

                List<ListadoEnviosDTO> envios = CUlistadoxFechas.Ejecutar(fechaInicio, fechaFin, clienteId, estado).ToList();

                if (envios == null || envios.Count == 0)
					return NotFound("No se encontraron envíos en el rango de fechas para este cliente.");

				return Ok(envios);
			}
			catch (Exception ex)
			{
				return StatusCode(500, "Error interno");
			}
		}
		[Authorize(Roles = "Cliente")]
		[HttpGet("porComentario")]
		public IActionResult GetEnviosPorComentario(string comentario, int clienteId)
		{
			try
			{
				if (string.IsNullOrWhiteSpace(comentario))
					return BadRequest("Debe ingresar una palabra a buscar.");

				List<ListadoEnviosDTO> envios = CUlistadoEnviosxComentarios.Ejecutar(comentario, clienteId).ToList();

				if (!envios.Any())
					return NotFound("No se encontraron envíos con ese comentario.");

				return Ok(envios);
			}
			catch (Exception)
			{
				return StatusCode(500, "Error interno.");
			}
		}

		// GET api/<EnvioController>/5
		[HttpGet("FindByNroTracking/{nroTracking}")]
		public IActionResult Get(string nroTracking)
		{
			//FindById
			try
			{
				ListadoEnviosDTO envios = CUbuscarEnvios.Ejecutar(nroTracking);
				if (envios == null)
				{
					return NotFound("No se encontraron envíos para este numero de Tracking.");
				}
				else
				{
					return Ok(envios);
				}
			}
			catch (Exception ex)
			{
				return StatusCode(500, "Error interno");
			}
		}

		// POST api/<EnvioController>
		[HttpPost("urgente")]
		public IActionResult PostUrgente([FromBody] AltaEnvioUrgenteDTO envioDTO)
		{
			//Add o Create
			try
			{
				if (envioDTO == null)
				{
					return BadRequest("Datos incorrectos");
				}

				CUaltaEnvioUrgente.Ejecutar(envioDTO);
				return Ok("Envío urgente registrado correctamente.");
			}
			catch (Exception)
			{
				return StatusCode(500, "Error interno al registrar envío urgente.");
			}
		}

		[HttpPost("comun")]
		public IActionResult PostComun([FromBody] AltaEnvioComunDTO envioDTO)
		{
			try
			{
				if (envioDTO == null)
				{
					return BadRequest("Datos incorrectos");
				}

				CUaltaEnvioComun.Ejecutar(envioDTO);
				return Ok("Envío común registrado correctamente.");
			}
			catch (Exception)
			{
				return StatusCode(500, "Error interno al registrar envío común.");
			}
		}

		// PUT api/<EnvioController>/5
		[HttpPut("{id}")]
		public void Put(int id, [FromBody] string value)
		{
			//Update
		}

		// DELETE api/<EnvioController>/5
		[HttpDelete("{id}")]
		public void Delete(int id)
		{
			//Delete o Remove
		}
	}
}

***********************************
Archivo: SeguimientoController.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\Controllers\SeguimientoController.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.DTOs.Seguimiento;
using LogicaAplicacion.InterfacesCasosUso.SeguimientoCU;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;

// For more information on enabling Web API for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

namespace WebAPI.Controllers
{
	[Route("api/[controller]")]
	[ApiController]
	public class SeguimientoController : ControllerBase
	{
		public IListadoSeguimientos ListadoSeguimientos { get; set; }
		public SeguimientoController(IListadoSeguimientos listadoSeguimientos)
		{
			ListadoSeguimientos = listadoSeguimientos;
		}
		// GET: api/<SeguimientoController>
		[Authorize(Roles = "Cliente")]
		[HttpGet("envio/{envioId}")]
		public IActionResult GetSeguimientosPorEnvio(int envioId)
		{
			try
			{
				List<SeguimientoDTO> seguimientos = ListadoSeguimientos.Ejecutar(envioId).ToList();
				if (seguimientos == null || seguimientos.Count == 0)
				{
					return NotFound("No se encontraron seguimientos para este envio.");
				}
				else
				{
					return Ok(seguimientos);
				}
			}
			catch (Exception ex)
			{
				return StatusCode(500, "Error interno");
			}

		}

		// GET api/<SeguimientoController>/5
		[HttpGet("{id}")]
		public string Get(int id)
		{
			return "value";
		}

		// POST api/<SeguimientoController>
		[HttpPost]
		public void Post([FromBody] string value)
		{
		}

		// PUT api/<SeguimientoController>/5
		[HttpPut("{id}")]
		public void Put(int id, [FromBody] string value)
		{
		}

		// DELETE api/<SeguimientoController>/5
		[HttpDelete("{id}")]
		public void Delete(int id)
		{
		}
	}
}

***********************************
Archivo: UsuarioController.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\Controllers\UsuarioController.cs
***********************************
using Compartido.DTOs.Usuario;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.ExcepcionesEntidades;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using WebAPI.Autenticacion;

namespace WebAPI.Controllers
{
	[Route("api/[controller]")]
	[ApiController]
	public class UsuarioController : ControllerBase
	{
		public ILoginUsuario CULogin { get; set; }

		public IModificarPassword CUPassword { get; set; }
		public UsuarioController(ILoginUsuario cULogin, IModificarPassword cUPassword)
		{
			CULogin = cULogin;
			CUPassword = cUPassword;
		}
		[HttpPost]
		public IActionResult Login(UsuarioDTO usuarioDTO)
		{
			try
			{
				if(usuarioDTO == null)
				{
					return BadRequest("Datos Incorrectos");
				}
				UsuarioLogueadoDTO usuarioLogueado = CULogin.Ejecutar(usuarioDTO);
				if(usuarioLogueado != null)
				{
					usuarioLogueado.Token = ManejadorToken.CrearToken(usuarioLogueado);
					return Ok(usuarioLogueado);
				}
				else
				{
					return BadRequest("Usuario o contraseña incorrectos");
				}
			}
			catch (UsuarioException ex)
			{

				return NotFound(ex.Message);
			}
			catch(Exception ex)
			{
				return StatusCode(500, ex.Message);
			}
		}
		[Authorize(Roles = "Cliente")]
        [HttpPut]
		public IActionResult CambiarPassword(CambioPasswordDTO dto)
		{
			try
			{
				if(dto == null)
				{
					return BadRequest("Datos Incorrectos");
				}
				CUPassword.Ejecutar(dto);
				return Ok("Contraseña cambiada correctamente");
				
			}
			catch (UsuarioException ex)
			{

				return BadRequest(ex.Message);
			}
			catch(Exception ex)
			{
				return StatusCode(500, "Error");
			}
		}
	}
}

***********************************
Archivo: WeatherForecastController.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\Controllers\WeatherForecastController.cs
***********************************
using Microsoft.AspNetCore.Mvc;

namespace WebAPI.Controllers
{
	[ApiController]
	[Route("[controller]")]
	public class WeatherForecastController : ControllerBase
	{
		private static readonly string[] Summaries = new[]
		{
			"Freezing", "Bracing", "Chilly", "Cool", "Mild", "Warm", "Balmy", "Hot", "Sweltering", "Scorching"
		};

		private readonly ILogger<WeatherForecastController> _logger;

		public WeatherForecastController(ILogger<WeatherForecastController> logger)
		{
			_logger = logger;
		}

		[HttpGet(Name = "GetWeatherForecast")]
		public IEnumerable<WeatherForecast> Get()
		{
			return Enumerable.Range(1, 5).Select(index => new WeatherForecast
			{
				Date = DateOnly.FromDateTime(DateTime.Now.AddDays(index)),
				TemperatureC = Random.Shared.Next(-20, 55),
				Summary = Summaries[Random.Shared.Next(Summaries.Length)]
			})
			.ToArray();
		}
	}
}

***********************************
Archivo: ManejadorToken.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\WebAPI\JWT\ManejadorToken.cs
***********************************
using Compartido.DTOs.Usuario;
using Microsoft.IdentityModel.Tokens;
using System.IdentityModel.Tokens.Jwt;
using System.Security.Claims;
using System.Text;

namespace WebAPI.Autenticacion
{
	public class ManejadorToken
	{
		internal static string CrearToken(UsuarioLogueadoDTO dtoUsuario)
		{

			byte[] clave = Encoding.ASCII.GetBytes("ZWRpw6fDo28gZW0gY29tcHV0YWRvcmE=");

			JwtSecurityTokenHandler tokenHandler = new JwtSecurityTokenHandler();

			//clave secreta, generalmente se incluye en el archivo de configuración
			//Debe ser un vector de bytes         

			//Se incluye un claim para el email
			SecurityTokenDescriptor tokenDescriptor = new SecurityTokenDescriptor
			{
				Subject = new ClaimsIdentity(new Claim[]
				{
					new Claim(ClaimTypes.Email, dtoUsuario.Email),
					new Claim(ClaimTypes.Role, dtoUsuario.Rol),

				}),
				Expires = DateTime.UtcNow.AddMinutes(30),
				SigningCredentials = new SigningCredentials(new SymmetricSecurityKey(clave),
				SecurityAlgorithms.HmacSha256Signature)
			};

			var token = tokenHandler.CreateToken(tokenDescriptor);

			return tokenHandler.WriteToken(token);
		}
	}
}

***********************************
Archivo: ListadoAgenciasDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Agencia\ListadoAgenciasDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Agencia
{
	public class ListadoAgenciasDTO
	{
		public int Id { get; set; }
		public string Nombre { get; set; }
		public string DireccionPostal { get; set; }

		public Ubicacion Ubicacion { get; set; }	
	}
}

***********************************
Archivo: AltaEnvioComunDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Envios\AltaEnvioComunDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Envios
{
	public class AltaEnvioComunDTO
	{
		public string NumeroTracking { get; set; }
		public int Peso { get; set; }
		public int FuncionarioId { get; set; }
		public int ClienteId { get; set; }
		public int AgenciaId { get; set; }
		public Estado Estado { get; set; }
		public DateTime FechaEstimada { get; set; }
	}
}

***********************************
Archivo: AltaEnvioUrgenteDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Envios\AltaEnvioUrgenteDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Envios
{
	public class AltaEnvioUrgenteDTO
	{
		public string NumeroTracking { get; set; }
		public int Peso { get; set; }
		public int FuncionarioId { get; set; }
		public int ClienteId { get; set; }
		public string DireccionPostal { get; set; }
		public bool Entregado { get; set; }
		public int TiempoEntrega { get; set; }
		public Estado Estado { get; set; }
		public DateTime FechaEstimada { get; set; }
	}
}

***********************************
Archivo: ListadoEnviosDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Envios\ListadoEnviosDTO.cs
***********************************
using Compartido.DTOs.Seguimiento;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Envios
{
	public class ListadoEnviosDTO
	{
		public int Id { get; set; }
		public string NroTracking { get; set; }
		public int Peso { get; set; }
		public string FuncionarioNombre { get; set; }
		public string ClienteNombre { get; set; }
		public Estado Estado { get; set; }
		public DateTime FechaEntrega { get; set; }
		public DateTime? FechaEstimada { get; set; }
		public List<SeguimientoDTO> Seguimientos { get; set; }
	}
}

***********************************
Archivo: SeguimientoDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Seguimiento\SeguimientoDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Seguimiento
{
	public class SeguimientoDTO
	{
		public string Comentario { get; set; }
		public DateTime FechaHora { get; set; }
		public int EnvioId { get; set; }         
		public int UsuarioId { get; set; }
	}
}

***********************************
Archivo: CambioPasswordDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Usuario\CambioPasswordDTO.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Usuario
{
   public class CambioPasswordDTO
    {
        public string Email { get; set; }

        public string PasswordActual { get; set; }
        public string PasswordNueva { get; set; }
    }
}

***********************************
Archivo: ListadoUsuariosDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Usuario\ListadoUsuariosDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Usuario
{
	public class ListadoUsuariosDTO
	{
		public int Id { get; set; }
		public string Ci { get; set; }
		public string Nombre { get; set; }
		public string Apellido { get; set; }
		public string Email { get; set; }
		public string Contraseña { get; set; }
		public Rol rol { get; set; }
	}

	
}

***********************************
Archivo: UsuarioDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Usuario\UsuarioDTO.cs
***********************************
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Usuario
{
	public class UsuarioDTO
	{

		public string Email { get; set; }

		public string Password { get; set; }
	}

	
	
}

***********************************
Archivo: UsuarioLogueadoDTO.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\Compartido\DTOs\Usuario\UsuarioLogueadoDTO.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Compartido.DTOs.Usuario
{
	public class UsuarioLogueadoDTO
	{
		public string Token { get; set; }
		public string Rol { get; set; }
		public string Email { get; set; }
		public int Id { get; set; }
	}
}

***********************************
Archivo: ListadoAgencia.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\AgenciaCU\ListadoAgencia.cs
***********************************
using Compartido.DTOs.Agencia;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.AgenciaCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.AgenciaCU
{
	public class ListadoAgencia : IListadoAgencias
	{
		private IRepositorioAgencia RepoAgencia { get; set; }

		public ListadoAgencia(IRepositorioAgencia repoAgencia)
		{
			RepoAgencia = repoAgencia;
		}

		public IEnumerable<ListadoAgenciasDTO> Ejecutar()
		{

			IEnumerable<ListadoAgenciasDTO> agenciasDTO = new List<ListadoAgenciasDTO>();
			IEnumerable<Agencia> agencias = RepoAgencia.FindAll().ToList();
			agenciasDTO = AgenciaMapper.ListadoAgenciaToListadoAgenciaDTO(agencias);
			return agenciasDTO;
		}
	}
}

***********************************
Archivo: AgregarSeguimiento.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\AgregarSeguimiento.cs
***********************************
using Compartido.DTOs.Seguimiento;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.ExcepcionesEntidades;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class AgregarSeguimiento : IAgregarSeguimiento
	{
		public IRepositorioEnvio RepoEnvio { get; set; }

		public IRepositorioUsuario RepoUsuario { get; set; }

		public AgregarSeguimiento(IRepositorioEnvio repoEnvio, IRepositorioUsuario repoUsuario)
		{
			RepoEnvio = repoEnvio;
			RepoUsuario = repoUsuario;
		}

		public void Ejecutar(SeguimientoDTO seguimientoDTO)
		{
			Envio envio = RepoEnvio.FindById(seguimientoDTO.EnvioId);
			Usuario usuario = RepoUsuario.FindById(seguimientoDTO.UsuarioId);
			Seguimiento seguimientos = EnvioMapper.SeguimientoDTOtoSeguimiento(seguimientoDTO,usuario);
			List<Seguimiento> listaSeguimientos = envio.Seguimientos.ToList();
			listaSeguimientos.Add(seguimientos);
			envio.Seguimientos = listaSeguimientos;
			if (seguimientos != null)
			{
				RepoEnvio.Update(envio);


			}
			else
			{
				throw new EnvioException("No se encontro un envio con ese numero de tracking");
			}


		}
	}
}

***********************************
Archivo: AltaEnvioComun.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\AltaEnvioComun.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class AltaEnvioComun : IAltaEnvioComun
	{
		private IRepositorioEnvio RepoEnvio { get; set; }

		private IRepositorioUsuario RepoUsuario { get; set; }

		private IRepositorioAgencia RepoAgencia { get; set; }
		public AltaEnvioComun(IRepositorioEnvio repositorioEnvio, IRepositorioUsuario repoUsuario,IRepositorioAgencia repoAgencia)
		{
			RepoEnvio = repositorioEnvio;
			RepoUsuario = repoUsuario;
			RepoAgencia = repoAgencia;
		}

		public void Ejecutar(AltaEnvioComunDTO envioDTO)
		{
			if (envioDTO == null)
			{
				throw new ArgumentNullException("Datos Incorrectos");
			}
			Usuario usuario = RepoUsuario.FindById(envioDTO.FuncionarioId);
			Usuario cliente = RepoUsuario.FindById(envioDTO.ClienteId);
			Agencia agencia = RepoAgencia.FindById(envioDTO.AgenciaId);
			if (usuario != null && cliente != null)
			{
				Envio envio = EnvioMapper.ComunFromDTO(envioDTO,usuario, cliente, agencia);
				RepoEnvio.Add(envio);

			}
			else
			{
				throw new ArgumentException("El funcionario o el cliente no existen");
			}

		}
	}
}

***********************************
Archivo: AltaEnvioUrgente.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\AltaEnvioUrgente.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class AltaEnvioUrgente : IAltaEnvioUrgente
	{
		private IRepositorioEnvio RepoEnvio{ get; set; }

		private IRepositorioUsuario RepoUsuario { get; set; }
		public AltaEnvioUrgente(IRepositorioEnvio repositorioEnvio, IRepositorioUsuario repoUsuario)
		{
			RepoEnvio = repositorioEnvio;
			RepoUsuario = repoUsuario;
		}

		public void Ejecutar(AltaEnvioUrgenteDTO envioDTO)
		{
			if (envioDTO == null)
			{
				throw new ArgumentNullException("Datos Incorrectos");
			}
			Usuario usuario = RepoUsuario.FindById(envioDTO.FuncionarioId);
			Usuario cliente = RepoUsuario.FindById(envioDTO.ClienteId);
			if(usuario != null && cliente != null)
			{
				Envio envio = EnvioMapper.UrgenteFromDTO(envioDTO,usuario, cliente);
				RepoEnvio.Add(envio);
				
			}
			else
			{
				throw new ArgumentException("El funcionario o el cliente no existen");
			}
			
		}
	}
}


***********************************
Archivo: BuscarEnvios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\BuscarEnvios.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class BuscarEnvios : IBuscarEnvios
	{
		private IRepositorioEnvio RepoEnvio { get; set; }

		public BuscarEnvios(IRepositorioEnvio repoEnvio)
		{
			RepoEnvio = repoEnvio;
		}

		public ListadoEnviosDTO Ejecutar(string NroTracking)
		{
			return EnvioMapper.EnvioToListadoDTO
				(RepoEnvio.FindByNroTracking(NroTracking));
		}
		
	}
}

***********************************
Archivo: FinalizarEnvio.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\FinalizarEnvio.cs
***********************************
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class FinalizarEnvio : IFinalizarEnvio
	{
		private IRepositorioEnvio RepoEnvio { get; set; }
		public FinalizarEnvio(IRepositorioEnvio repoEnvio)
		{
			RepoEnvio = repoEnvio;
		}

		public void Ejecutar(string NroTracking)
		{
			if (string.IsNullOrEmpty(NroTracking))
			{
				throw new ArgumentNullException("Datos incorrectos");
			}
			Envio envio = RepoEnvio.FindByNroTracking(NroTracking);
			if (envio != null)
			{
				RepoEnvio.FinalizarEnvio(envio.NroTracking);
			}
			else
			{
				throw new ArgumentException("El envio no existe");
			}
		}

	}
}

***********************************
Archivo: ListadoEnvios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\ListadoEnvios.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class ListadoEnvios : IListadoEnvios
	{
		private IRepositorioEnvio RepoEnvio { get; set; }

		public ListadoEnvios(IRepositorioEnvio repoEnvio)
		{
			RepoEnvio = repoEnvio;
		}

		public IEnumerable<ListadoEnviosDTO> Ejecutar()
		{

			IEnumerable<ListadoEnviosDTO> enviosDTO = new List<ListadoEnviosDTO>();
			IEnumerable<Envio> envios = RepoEnvio.FindAll();
			enviosDTO = EnvioMapper.ListadoEnvioToListadoEnvioDTO(envios);
			return enviosDTO;

		}
	}
}

***********************************
Archivo: ListadoEnviosClienteLogueado.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\ListadoEnviosClienteLogueado.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class ListadoEnviosClienteLogueado :IListadoEnviosClienteLogueado
	{
		private IRepositorioEnvio RepoEnvio { get; set; }
		public ListadoEnviosClienteLogueado(IRepositorioEnvio repoenvio)
		{
			RepoEnvio = repoenvio;
		}
		public IEnumerable<ListadoEnviosDTO> Ejecutar(int clienteId)
		{
			IEnumerable<ListadoEnviosDTO> enviosDTO = new List<ListadoEnviosDTO>();
			IEnumerable<Envio> envios = RepoEnvio.FindByCliente(clienteId);
			enviosDTO = EnvioMapper.ListadoEnvioToListadoEnvioDTO(envios);
			return enviosDTO;

		}
	}
}

***********************************
Archivo: ListadoEnviosxComentario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\ListadoEnviosxComentario.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class ListadoEnviosxComentario : IListadoEnviosxComentario
	{
		private IRepositorioEnvio RepoEnvio { get; set; }
		public ListadoEnviosxComentario(IRepositorioEnvio repoEnvio)
		{
			RepoEnvio = repoEnvio;
		}
		public IEnumerable<ListadoEnviosDTO> Ejecutar(string comentario, int clienteId)
		{
	
			IEnumerable<ListadoEnviosDTO> listadoEnviosDTO = new List<ListadoEnviosDTO>();
			IEnumerable<Envio> envios = RepoEnvio.FindByComentario(comentario, clienteId);
			listadoEnviosDTO = EnvioMapper.ListadoEnvioToListadoEnvioDTO(envios);
			return listadoEnviosDTO;


		}
	}
}

***********************************
Archivo: ListadoEnviosxFecha.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\EnvioCU\ListadoEnviosxFecha.cs
***********************************
using Compartido.DTOs.Envios;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.EnvioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.EnvioCU
{
	public class ListadoEnviosxFecha : IListadoEnviosxFecha
	{
		private IRepositorioEnvio RepoEnvio { get; set; }
		public ListadoEnviosxFecha(IRepositorioEnvio repositorioEnvio)
		{
			RepoEnvio = repositorioEnvio;
		}
		public IEnumerable<ListadoEnviosDTO> Ejecutar(DateTime fechaInicio, DateTime fechaFin , int clienteId, Estado? estado)
		{
			
			IEnumerable<ListadoEnviosDTO> listadoEnviosDTO = new List<ListadoEnviosDTO>();
			IEnumerable<Envio> envios = RepoEnvio.FindByFechas(fechaInicio, fechaFin, clienteId, estado);
			listadoEnviosDTO = EnvioMapper.ListadoEnvioToListadoEnvioDTO(envios);
			return listadoEnviosDTO;
		}

	}
}

***********************************
Archivo: ListadoSeguimientosCU.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\SeguimientoCU\ListadoSeguimientosCU.cs
***********************************
using Compartido.DTOs.Seguimiento;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.SeguimientoCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.SeguimientoCU
{
	public class ListadoSeguimientosCU : IListadoSeguimientos
	{
		private IRepositorioSeguimiento RepositorioSeguimiento { get; set; }
		public ListadoSeguimientosCU(IRepositorioSeguimiento repositorioSeguimiento)
		{
			RepositorioSeguimiento = repositorioSeguimiento;
		}
		public IEnumerable<SeguimientoDTO> Ejecutar(int envioId)
		{
			IEnumerable<SeguimientoDTO> seguimientosDTO = new List<SeguimientoDTO>();
			IEnumerable<Seguimiento> seguimientos = RepositorioSeguimiento.FindByEnvioId(envioId);
			seguimientosDTO = SeguimientoMapper.ListadoSeguimientoToListadoSeguimientoDTO(seguimientos);
			return seguimientosDTO;

		}
	}
}

***********************************
Archivo: BuscarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\BuscarUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
    public class BuscarUsuario : IBuscarUsuario
    {
        private IRepositorioUsuario RepoUsuario { get; set; }
        public BuscarUsuario(IRepositorioUsuario repoUsuario)
        {
            RepoUsuario = repoUsuario;
        }

        public ListadoUsuariosDTO Ejecutar(int id)
        {
            return UsuarioMapper.UsuarioToListadoUsuarioDTO(RepoUsuario.FindById(id));
        }
    }
}

***********************************
Archivo: EliminarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\EliminarUsuario.cs
***********************************
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
   public class EliminarUsuario : IEliminarUsuario
    {
        private IRepositorioUsuario RepoUsuario { get; set; }

        public EliminarUsuario
            (IRepositorioUsuario repositorioUsuario)
        {
            RepoUsuario = repositorioUsuario;
        }
        public void Ejecutar(int id)
        {
            RepoUsuario.Delete(id);
        }
    }
}

***********************************
Archivo: ListadoClientes.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\ListadoClientes.cs
***********************************
using Compartido.DTOs.Usuario;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
	public class ListadoClientes : IListadoCliente
	{
		
			private IRepositorioUsuario RepoUsuario { get; set; }

			public ListadoClientes(IRepositorioUsuario repousuario)
			{
				RepoUsuario = repousuario;
			}

			public IEnumerable<ListadoUsuariosDTO> Ejecutar()
			{
				
				IEnumerable<Usuario> usuarios = RepoUsuario.FindByRolCliente().ToList();
				IEnumerable<ListadoUsuariosDTO> usuariosDTO = UsuarioMapper.ListadoUsuarioToListadoUsuarioDTO(usuarios);
				return usuariosDTO;

			}
		
	}
}

***********************************
Archivo: ListadoUsuarios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\ListadoUsuarios.cs
***********************************
using Compartido.Mappers;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using Compartido.DTOs.Usuario;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
	public class ListadoUsuarios:IListadoUsuarios
	{
		private IRepositorioUsuario RepoUsuario { get; set; }

        public ListadoUsuarios(IRepositorioUsuario repousuario)
		{
			RepoUsuario = repousuario;
		}

		public IEnumerable<ListadoUsuariosDTO> Ejecutar()
		{

			IEnumerable<ListadoUsuariosDTO> usuariosDTO = new List<ListadoUsuariosDTO>();
			IEnumerable<Usuario> usuarios = RepoUsuario.FindByRolFuncionario().ToList();
			usuariosDTO = UsuarioMapper.ListadoUsuarioToListadoUsuarioDTO(usuarios);
			return usuariosDTO;

		}
	}
}

***********************************
Archivo: LoginUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\LoginUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.ExcepcionesEntidades;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
	public class LoginUsuario : ILoginUsuario
	{
		private IRepositorioUsuario RepoUsuario { get; set; }

		public LoginUsuario(IRepositorioUsuario repoUsuario)
		{
			RepoUsuario = repoUsuario;
		}

		public UsuarioLogueadoDTO Ejecutar(UsuarioDTO usuariodto)
		{
			Usuario usuario = RepoUsuario.FindByEmailAndPassword(usuariodto.Email, usuariodto.Password);
			if (usuario == null)
			{
				throw new UsuarioException("Usuario o contraseña incorrectos");
			}
			return UsuarioMapper.UsuarioToUsuarioLogueadoDTO(usuario);
		}
	}
}

***********************************
Archivo: ModificarPassword.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\ModificarPassword.cs
***********************************
using Compartido.DTOs.Usuario;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.ExcepcionesEntidades;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
    public class ModificarPassword : IModificarPassword
    {
        private IRepositorioUsuario RepoUsuario { get; set; }

        public ModificarPassword(IRepositorioUsuario repoUsuario)
        {
            RepoUsuario=repoUsuario;
        }

        public void Ejecutar(CambioPasswordDTO dto)
        {
            Usuario userBuscado = RepoUsuario.FindByEmail(dto.Email);
            if(userBuscado == null)
            {
                throw new UsuarioException("Datos Incorrectos"); 
            }
            if(userBuscado.Contraseña != dto.PasswordActual)
            {
                throw new UsuarioException("Contraseña Invalida"); 
            }
            userBuscado.Contraseña = dto.PasswordNueva;

            RepoUsuario.Update(userBuscado);

        }
    }
}

***********************************
Archivo: ModificarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\ModificarUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.EntidadesNegocio;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
{
   public class ModificarUsuario : IModificarUsuario
    {
        private IRepositorioUsuario RepoUsuario { get; set; }

        public ModificarUsuario(IRepositorioUsuario repousuario)
        {
            RepoUsuario = repousuario;
        }

        public void Ejecutar(ListadoUsuariosDTO usuariosDTO)
        {
            Usuario usuario = UsuarioMapper.UsuarioFromListadoUsuarioDTO(usuariosDTO);
            usuario.Id = usuariosDTO.Id;
            RepoUsuario.Update(usuario);
        }
    }
}

***********************************
Archivo: RegistroUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\ImplementacionCasosUso\UsuarioCU\RegistroUsuario.cs
***********************************
using Compartido.Mappers;
using LogicaAplicacion.InterfacesCasosUso.UsuarioCU;
using LogicaNegocio.InterfacesRepositorios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using LogicaNegocio.EntidadesNegocio;
using Compartido.DTOs.Usuario;

//namespace LogicaAplicacion.ImplementacionCasosUso.UsuarioCU
//{
//	//public class RegistroUsuario : IRegistrarUsuario
//	//{
//	//	private IRepositorioUsuario RepoUsuario { get; set; }

//	//	public RegistroUsuario(IRepositorioUsuario repoUsuario)
//	//	{
//	//		RepoUsuario = repoUsuario;
//	//	}

//		//public void Ejecutar(UsuarioDTO usuarioDTO)
//		//{
//		//	if (usuarioDTO == null)
//		//	{
//		//		throw new ArgumentNullException("Datos Incorrectos");
//		//	}
//		//	Usuario usuario = UsuarioMapper.UsuarioFromUsuarioDTO(usuarioDTO);
//		//	RepoUsuario.Add(usuario);
//		//}
//	}
//}

***********************************
Archivo: IListadoAgencias.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\AgenciaCU\IListadoAgencias.cs
***********************************
using Compartido.DTOs.Agencia;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.AgenciaCU
{
	public interface IListadoAgencias
	{
		IEnumerable<ListadoAgenciasDTO> Ejecutar();
	}
}

***********************************
Archivo: IAgregarSeguimiento.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IAgregarSeguimiento.cs
***********************************
using Compartido.DTOs.Seguimiento;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IAgregarSeguimiento
	{
		void Ejecutar(SeguimientoDTO seguimientoDTO);
	}
}

***********************************
Archivo: IAltaEnvioComun.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IAltaEnvioComun.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IAltaEnvioComun
	{
		void Ejecutar(AltaEnvioComunDTO envioDTO);
	}
}

***********************************
Archivo: IAltaEnvioUrgente.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IAltaEnvioUrgente.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IAltaEnvioUrgente
	{
		void Ejecutar(AltaEnvioUrgenteDTO envioDTO);
	}
}

***********************************
Archivo: IBuscarEnvios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IBuscarEnvios.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IBuscarEnvios
	{
		ListadoEnviosDTO Ejecutar(string NroTracking);
	}
}

***********************************
Archivo: IFinalizarEnvio.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IFinalizarEnvio.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IFinalizarEnvio
	{
		void Ejecutar(string nroTracking);	
	}
}

***********************************
Archivo: IListadoEnvios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IListadoEnvios.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IListadoEnvios
	{
		IEnumerable<ListadoEnviosDTO> Ejecutar();
	}
}

***********************************
Archivo: IListadoEnviosClienteLogueado.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IListadoEnviosClienteLogueado.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IListadoEnviosClienteLogueado
	{
		IEnumerable<ListadoEnviosDTO> Ejecutar(int clienteId);
	}
}

***********************************
Archivo: IListadoEnviosxComentario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IListadoEnviosxComentario.cs
***********************************
using Compartido.DTOs.Envios;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IListadoEnviosxComentario
	{
		IEnumerable<ListadoEnviosDTO> Ejecutar(string comentario, int clienteId);
	}
}

***********************************
Archivo: IListadoEnviosxFecha.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\EnvioCU\IListadoEnviosxFecha.cs
***********************************
using Compartido.DTOs.Envios;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.EnvioCU
{
	public interface IListadoEnviosxFecha
	{
		IEnumerable<ListadoEnviosDTO> Ejecutar(DateTime fechaInicio, DateTime fechaFin, int clienteId, Estado? estado);

	}
}

***********************************
Archivo: IListadoSeguimientos.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\SeguimientoCU\IListadoSeguimientos.cs
***********************************
using Compartido.DTOs.Seguimiento;
using LogicaNegocio.EntidadesNegocio;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.SeguimientoCU
{
	public interface IListadoSeguimientos
	{
		IEnumerable<SeguimientoDTO> Ejecutar(int envioId);
	}
}

***********************************
Archivo: IBuscarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IBuscarUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
    public interface IBuscarUsuario
    {
        ListadoUsuariosDTO Ejecutar(int id);
    }
}

***********************************
Archivo: IEliminarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IEliminarUsuario.cs
***********************************
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
    public interface IEliminarUsuario
    {
        void Ejecutar(int id);
    }
}

***********************************
Archivo: IListadoCliente.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IListadoCliente.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
	public interface IListadoCliente
	{
		IEnumerable<ListadoUsuariosDTO> Ejecutar();
	}
}

***********************************
Archivo: IListadoUsuarios.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IListadoUsuarios.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
	public interface IListadoUsuarios
	{
		IEnumerable<ListadoUsuariosDTO> Ejecutar();
	}
}

***********************************
Archivo: ILoginUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\ILoginUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
	public interface ILoginUsuario
	{
		UsuarioLogueadoDTO Ejecutar(UsuarioDTO usuariodto);
	}
}

***********************************
Archivo: IModificarPassword.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IModificarPassword.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
    public interface IModificarPassword
    {
        void Ejecutar(CambioPasswordDTO dto);
    }
}

***********************************
Archivo: IModificarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IModificarUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
     public interface IModificarUsuario
    {
        void Ejecutar(ListadoUsuariosDTO usuariosDTO);
    }
}

***********************************
Archivo: IRegistrarUsuario.cs
Carpeta: C:\Users\ismad\Desktop\Prog-P3-2025-1\Prog-P3-2025-1\333473--308898\LogicaAplicacion\InterfacesCasosUso\UsuarioCU\IRegistrarUsuario.cs
***********************************
using Compartido.DTOs.Usuario;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LogicaAplicacion.InterfacesCasosUso.UsuarioCU
{
	public interface IRegistrarUsuario
	{
		void Ejecutar(UsuarioDTO usuarioDTO);
	}
}
